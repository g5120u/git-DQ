# Git-DQ RPG OS - Cursor AI 規則文件

## 📋 專案概述

Git-DQ 是一個將 Git 操作遊戲化的教育工具，使用 Electron + React 開發。本專案旨在讓完全不會 Git 的使用者能夠透過 RPG 遊戲介面學會 Git 操作。

## 🎯 核心原則

### 1. 語言規範
- **所有回覆必須使用繁體中文**
- 程式碼註解使用繁體中文
- 使用者介面文字使用繁體中文
- 錯誤訊息使用繁體中文

### 2. 文檔優先原則
當修改資料夾代碼時，請務必：
1. **主動查閱對應的說明文檔**（README.md、.cursorrules）
2. **檢查代碼邏輯與文檔的一致性**
3. **如果發現不符，主動提醒並提供修改建議**

### 3. 技術架構
- **前端**：React（使用 CDN，無需打包工具）
- **後端**：Electron + Node.js
- **Git 操作**：透過 `child_process.execSync` 執行 Git 指令
- **單機運行**：不使用開發伺服器，直接載入本地 HTML 檔案

## 📁 檔案結構說明

### 核心檔案

#### `dq-engine.js`
- Git 操作的核心引擎
- 提供 `scanWorld()`, `initWorld()`, `setHero()` 等函數
- 所有 Git 操作都透過此檔案執行

#### `main.js`
- Electron 主進程
- 負責建立視窗和 IPC 通訊
- 載入 `index.html`（不使用開發伺服器）

#### `preload.js`
- IPC 橋接檔案
- 將 Node.js 功能安全地暴露給渲染進程
- 提供 `window.DQ` API

#### `renderer/App.jsx`
- React 應用主元件
- 使用 React CDN，無需編譯
- 透過 `window.DQ` API 與主進程通訊

#### `index.html`
- 主頁面
- 載入 React CDN 和 App.jsx
- 包含基本樣式

## 🔧 開發規範

### Git 操作
- 所有 Git 指令透過 `dq-engine.js` 執行
- 使用 `execSync` 同步執行，確保操作順序
- 錯誤處理：catch 錯誤並返回空字串或錯誤訊息

### IPC 通訊
- 主進程：`ipcMain.handle()` 處理請求
- 渲染進程：透過 `window.DQ` API 呼叫
- 所有 IPC 操作必須有錯誤處理

### UI/UX 設計
- 使用 RPG 遊戲風格
- 顏色主題：深藍背景、金色邊框、綠色狀態文字
- 按鈕要有 hover 效果和過渡動畫
- 重要訊息使用成功（綠色）或錯誤（紅色）提示框

### 錯誤處理
- 所有非同步操作都要有 try-catch
- 顯示使用者友善的錯誤訊息
- 錯誤訊息使用繁體中文

## 🚫 禁止事項

1. **不要使用開發伺服器**（如 Vite、Webpack Dev Server）
2. **不要使用端口**（應用程式必須完全單機運行）
3. **不要使用英文回覆**（必須使用繁體中文）
4. **不要忽略文檔**（修改代碼前必須查閱文檔）

## ✅ 檢查清單

修改代碼前：
- [ ] 已閱讀相關文檔
- [ ] 了解代碼邏輯與文檔的一致性
- [ ] 確認使用繁體中文

修改代碼後：
- [ ] 代碼邏輯與文檔一致
- [ ] 錯誤處理完善
- [ ] UI 文字使用繁體中文
- [ ] 測試基本功能正常

## 📝 註解規範

```javascript
/**
 * 函數說明（繁體中文）
 * @param {string} param1 - 參數說明
 * @returns {Object} 返回值說明
 */
```

## 🎮 遊戲化元素

- 使用 RPG 術語：冒險世界、冒險者、英雄等
- 狀態顯示使用遊戲風格
- 按鈕文字使用遊戲化語言
- 視覺效果要有遊戲感

## 🔄 更新日誌

當新增功能或修改重要邏輯時，請更新：
1. README.md 的功能說明
2. .cursorrules 的相關規範
3. 程式碼註解

---

**記住：讓 Git 學習變成一場冒險！** ⚔️🛡️✨

